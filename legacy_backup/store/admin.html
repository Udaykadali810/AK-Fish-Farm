<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0" />
    <title>Admin Panel AK FishFarms </title>
    <meta name="robots" content="noindex,nofollow" />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap"
        rel="stylesheet" />
    <link rel="icon"
        href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'></text></svg>" />
    <link rel="stylesheet" href="admin.css" />
</head>

<body>

    <!-- 
     LOGIN SCREEN
 -->
    <div id="login-screen">
        <div class="login-card">
            <span class="login-logo"></span>
            <div class="login-brand">AK FishFarms</div>
            <p class="login-sub">Admin Control Panel</p>
            <div id="login-err" class="login-err"></div>
            <form id="login-form" novalidate>
                <div class="lf-group">
                    <label class="lf-label" for="l-user">Username</label>
                    <input type="text" id="l-user" class="lf-input" placeholder="admin" autocomplete="username" />
                </div>
                <div class="lf-group">
                    <label class="lf-label" for="l-pass">Password</label>
                    <div class="lf-input-wrap">
                        <input type="password" id="l-pass" class="lf-input has-toggle" placeholder=""
                            autocomplete="current-password" />
                        <button type="button" class="lf-eye" id="login-eye" title="Show/hide"></button>
                    </div>
                </div>
                <button type="submit" class="login-btn"> Login to Admin</button>
            </form>
            <p class="login-hint">Default: <code>admin</code> / <code>AKFish2026</code></p>
        </div>
    </div>

    <!-- 
     DASHBOARD SCREEN
 -->
    <div id="dashboard-screen">

        <!-- SIDEBAR -->
        <aside class="adm-sidebar" id="adm-sidebar">
            <div class="sidebar-brand">
                <span class="sb-emoji"></span>
                <div>
                    <div class="sb-name">AK FishFarms</div>
                    <div class="sb-role">Admin Panel</div>
                </div>
            </div>
            <nav class="sidebar-nav">
                <button class="nav-item active" data-section="dashboard">
                    <span class="nav-ico"></span> Dashboard
                </button>
                <button class="nav-item" data-section="orders">
                    <span class="nav-ico"></span> Orders
                </button>
                <button class="nav-item" data-section="track">
                    <span class="nav-ico"></span> Track Orders
                </button>
                <button class="nav-item" data-section="products">
                    <span class="nav-ico"></span> Products
                </button>
                <button class="nav-item" data-section="security">
                    <span class="nav-ico"></span> Security
                </button>
                <button class="nav-item" data-section="reports">
                    <span class="nav-ico"></span> Reports
                </button>
            </nav>
            <div class="sidebar-foot">
                <button class="nav-item nav-logout" id="logout-btn">
                    <span class="nav-ico"></span> Logout
                </button>
                <div class="sb-version">v3.0 LocalStorage</div>
            </div>
        </aside>
        <div class="sidebar-overlay" id="sidebar-overlay"></div>

        <!-- MAIN AREA -->
        <div class="adm-main-area">

            <!-- HEADER -->
            <header class="adm-header">
                <div class="hd-left">
                    <button class="hamburger-btn" id="hamburger-btn" aria-label="Menu">
                        <span class="hb-line"></span>
                        <span class="hb-line"></span>
                        <span class="hb-line"></span>
                    </button>
                    <span class="hd-title" id="hd-title"> Dashboard</span>
                </div>
                <div class="hd-right">
                    <div class="admin-pill">
                        <span class="admin-pill-dot"></span>
                        <span class="admin-pill-name" id="admin-pill-name">admin</span>
                    </div>
                    <button class="logout-hd-btn" id="logout-hd-btn"> Logout</button>
                </div>
            </header>

            <!-- CONTENT -->
            <main class="adm-content">

                <!--  SECTION: DASHBOARD  -->
                <section id="sec-dashboard" class="adm-sec active">
                    <div class="page-hd">
                        <h1> Dashboard Overview</h1>
                        <p>Live stats from your LocalStorage database</p>
                    </div>
                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-ico ico-aqua"></div>
                            <div>
                                <div class="stat-val" id="ds-orders">0</div>
                                <div class="stat-lbl">Total Orders</div>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-ico ico-orange"></div>
                            <div>
                                <div class="stat-val" id="ds-revenue">0</div>
                                <div class="stat-lbl">Total Revenue</div>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-ico ico-green"></div>
                            <div>
                                <div class="stat-val" id="ds-products">0</div>
                                <div class="stat-lbl">Products</div>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-ico ico-yellow"></div>
                            <div>
                                <div class="stat-val" id="ds-pending">0</div>
                                <div class="stat-lbl">Pending Orders</div>
                            </div>
                        </div>
                    </div>

                    <!-- Recent Orders preview -->
                    <div class="adm-card">
                        <div class="card-hd">
                            <div class="card-hd-l">
                                <div class="card-ico-wrap"></div>
                                <div>
                                    <div class="card-title">Recent Orders</div>
                                    <div class="card-sub">Latest 5 orders</div>
                                </div>
                            </div>
                            <button class="btn btn-ghost btn-sm" onclick="switchSection('orders')">View All </button>
                        </div>
                        <div class="tbl-wrap">
                            <table class="adm-table">
                                <thead>
                                    <tr>
                                        <th>Order ID</th>
                                        <th>Customer</th>
                                        <th>Total</th>
                                        <th>Date</th>
                                        <th>Status</th>
                                    </tr>
                                </thead>
                                <tbody id="dash-orders-tbody">
                                    <tr>
                                        <td colspan="5" class="tbl-empty">
                                            <div class="tbl-empty-ico"></div>No orders yet
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <!-- Hero Banner Management -->
                    <div class="adm-card" style="margin-top:20px;">
                        <div class="card-hd">
                            <div class="card-hd-l">
                                <div class="card-ico-wrap"></div>
                                <div>
                                    <div class="card-title">Home Hero Banner</div>
                                    <div class="card-sub">Change the main banner shown on the homepage</div>
                                </div>
                            </div>
                        </div>
                        <div style="padding:22px;">
                            <div class="form-field">
                                <label class="form-label">Custom Banner URL (Paste link or data URI)</label>
                                <div style="display:flex;gap:10px;">
                                    <input type="text" id="custom-banner-input" class="form-input"
                                        placeholder="https://example.com/banner.jpg" />
                                    <button class="btn btn-aqua" id="save-banner-btn" style="white-space:nowrap;">Save
                                        Banner</button>
                                </div>
                                <p style="font-size:0.75rem;color:#888;margin-top:8px;">Leave blank to use the default
                                    business banner.</p>
                            </div>
                            <div id="banner-preview-box" style="margin-top:15px; display:none;">
                                <p style="font-size:0.8rem; margin-bottom:5px;">Preview:</p>
                                <img id="admin-banner-preview" src=""
                                    style="width:100%; max-width:400px; border-radius:12px; border:1px solid rgba(255,255,255,0.1);" />
                                <button class="btn btn-red btn-sm" id="reset-banner-btn" style="margin-top:10px;">Reset
                                    to Default</button>
                            </div>
                        </div>
                    </div>

                    <!-- Quick actions -->
                    <div class="quick-actions">
                        <button class="qa-btn" onclick="switchSection('products')">Add Product</button>
                        <button class="qa-btn" onclick="switchSection('orders')">Manage Orders</button>
                        <button class="qa-btn" onclick="switchSection('reports')">Download Report</button>
                        <button class="qa-btn" onclick="switchSection('track')">Track Orders</button>
                    </div>
                </section>

                <!--  SECTION: ORDERS  -->
                <section id="sec-orders" class="adm-sec">
                    <div class="page-hd">
                        <h1> Orders Management</h1>
                        <p>Manage and update customer order statuses</p>
                    </div>
                    <div class="adm-card">
                        <div class="card-hd">
                            <div class="card-hd-l">
                                <div class="card-ico-wrap"></div>
                                <div>
                                    <div class="card-title">All Orders <span class="count-badge"
                                            id="orders-count">0</span></div>
                                    <div class="card-sub">Click status dropdown to update</div>
                                </div>
                            </div>
                            <div class="search-bar" style="min-width:200px;">
                                <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                    stroke-width="2.5">
                                    <circle cx="11" cy="11" r="8" />
                                    <line x1="21" y1="21" x2="16.65" y2="16.65" />
                                </svg>
                                <input type="text" id="orders-search" placeholder="Search orders" />
                            </div>
                        </div>
                        <div class="tbl-wrap">
                            <table class="adm-table">
                                <thead>
                                    <tr>
                                        <th>Order ID</th>
                                        <th>Customer</th>
                                        <th>Phone</th>
                                        <th>City</th>
                                        <th>Total ()</th>
                                        <th>Date</th>
                                        <th>Status</th>
                                        <th>Details</th>
                                    </tr>
                                </thead>
                                <tbody id="orders-tbody">
                                    <tr>
                                        <td colspan="8" class="tbl-empty">
                                            <div class="tbl-empty-ico"></div>No orders yet
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </section>

                <!--  SECTION: TRACK ORDERS  -->
                <section id="sec-track" class="adm-sec">
                    <div class="page-hd">
                        <h1> Track Orders</h1>
                        <p>Search and update live delivery status</p>
                    </div>
                    <div class="adm-card" style="margin-bottom:20px;">
                        <div class="card-hd">
                            <div class="card-hd-l">
                                <div class="card-ico-wrap"></div>
                                <div>
                                    <div class="card-title">Search & Update Status</div>
                                </div>
                            </div>
                        </div>
                        <div style="padding:20px;">
                            <div class="search-bar" style="max-width:400px;margin-bottom:20px;">
                                <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                    stroke-width="2.5">
                                    <circle cx="11" cy="11" r="8" />
                                    <line x1="21" y1="21" x2="16.65" y2="16.65" />
                                </svg>
                                <input type="text" id="track-search"
                                    placeholder="Search by Order ID or customer name" />
                            </div>
                            <div id="track-list" class="track-list"></div>
                        </div>
                    </div>
                </section>

                <!--  SECTION: PRODUCTS  -->
                <section id="sec-products" class="adm-sec">
                    <div class="page-hd">
                        <h1> Product Management</h1>
                        <p>Add, edit, and manage your fish catalog</p>
                    </div>

                    <!-- Add New Product -->
                    <div class="adm-card" id="add-prod-card">
                        <div class="card-hd" onclick="toggleAddCard()" style="cursor:pointer;">
                            <div class="card-hd-l">
                                <div class="card-ico-wrap"></div>
                                <div>
                                    <div class="card-title">Add New Product</div>
                                    <div class="card-sub">Upload image and fill details</div>
                                </div>
                            </div>
                            <button class="btn btn-ghost btn-sm" id="add-toggle-btn" type="button"> Collapse</button>
                        </div>
                        <div id="add-prod-body" style="padding:22px;">
                            <div class="add-prod-grid">
                                <!-- Image col -->
                                <div class="img-col">
                                    <div class="upload-zone" id="add-upload-zone">
                                        <input type="file" id="add-img-file" accept="image/jpeg,image/png,image/webp" />
                                        <div class="upload-ico"></div>
                                        <p class="upload-txt1">Click or drag to upload</p>
                                        <p class="upload-txt2">JPG PNG WEBP Max 5 MB</p>
                                    </div>
                                    <div class="add-img-preview" id="add-img-preview">
                                        <img id="add-img-preview-img" src="" alt="Preview" />
                                        <button type="button" class="btn btn-red btn-sm" id="clear-add-img"
                                            style="margin-top:6px;width:100%;"> Clear Image</button>
                                    </div>
                                    <div class="or-divider"><span>OR</span></div>
                                    <input type="url" class="form-input" id="add-img-url" placeholder="Paste image URL"
                                        style="font-size:0.8rem;" />
                                </div>
                                <!-- Fields col -->
                                <div class="fields-col">
                                    <div class="form-field"><label class="form-label">Fish Name <span
                                                class="req">*</span></label><input type="text" class="form-input"
                                            id="add-name" placeholder="e.g. Flowerhorn (S)" maxlength="80" /></div>
                                    <div class="form-row-2">
                                        <div class="form-field"><label class="form-label">Price () <span
                                                    class="req">*</span></label><input type="number" class="form-input"
                                                id="add-price" placeholder="500" min="1" /></div>
                                        <div class="form-field"><label class="form-label">Category</label>
                                            <select class="form-input" id="add-cat">
                                                <option value="special"> AK Special</option>
                                                <option value="premium"> AK Premium</option>
                                                <option value="guppy"> Guppy</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="form-field"><label class="form-label">Stock Status</label>
                                        <select class="form-input" id="add-status">
                                            <option value="in_stock"> In Stock</option>
                                            <option value="out_stock"> Out of Stock</option>
                                        </select>
                                    </div>
                                    <div class="form-field"><label class="form-label">Description</label><textarea
                                            class="form-input" id="add-desc" rows="2" placeholder="Short description"
                                            style="resize:vertical;"></textarea></div>
                                    <div style="display:flex;gap:10px;flex-wrap:wrap;">
                                        <button class="btn btn-aqua" id="save-prod-btn"> <span id="save-prod-lbl">Add
                                                Product</span></button>
                                        <button class="btn btn-ghost" id="cancel-prod-btn"> Cancel</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Product Table -->
                    <div class="adm-card">
                        <div class="card-hd">
                            <div class="card-hd-l">
                                <div class="card-ico-wrap"></div>
                                <div>
                                    <div class="card-title">Inventory <span class="count-badge" id="prod-count">0</span>
                                    </div>
                                    <div class="card-sub">Inline edit Upload Delete</div>
                                </div>
                            </div>
                            <div class="search-bar" style="min-width:200px;">
                                <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                    stroke-width="2.5">
                                    <circle cx="11" cy="11" r="8" />
                                    <line x1="21" y1="21" x2="16.65" y2="16.65" />
                                </svg>
                                <input type="text" id="prod-search" placeholder="Search products" />
                            </div>
                        </div>
                        <div class="tbl-wrap">
                            <table class="adm-table" style="min-width:820px;">
                                <thead>
                                    <tr>
                                        <th>Image</th>
                                        <th>Name</th>
                                        <th>Price ()</th>
                                        <th>Category</th>
                                        <th>Status</th>
                                        <th>Upload</th>
                                        <th>Save</th>
                                        <th>Delete</th>
                                    </tr>
                                </thead>
                                <tbody id="prod-tbody">
                                    <tr>
                                        <td colspan="8" class="tbl-empty">Loading</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </section>

                <!--  SECTION: SECURITY  -->
                <section id="sec-security" class="adm-sec">
                    <div class="page-hd">
                        <h1> Security</h1>
                        <p>Change your admin login credentials</p>
                    </div>
                    <div class="security-card">
                        <div class="security-ico"></div>
                        <div class="security-title">Change Admin Password</div>
                        <p class="security-sub">Your password is stored securely in LocalStorage. Update it here
                            anytime.</p>
                        <div class="form-field"><label class="form-label">Current Password <span
                                    class="req">*</span></label>
                            <div class="input-pw-wrap"><input type="password" class="form-input" id="sec-cur"
                                    placeholder="Current password" /><button type="button" class="pw-eye"
                                    data-target="sec-cur"></button></div>
                        </div>
                        <div class="form-field"><label class="form-label">New Password <span
                                    class="req">*</span></label>
                            <div class="input-pw-wrap"><input type="password" class="form-input" id="sec-new"
                                    placeholder="New password (min 6 chars)" /><button type="button" class="pw-eye"
                                    data-target="sec-new"></button></div>
                        </div>
                        <div class="form-field"><label class="form-label">Confirm New Password <span
                                    class="req">*</span></label>
                            <div class="input-pw-wrap"><input type="password" class="form-input" id="sec-confirm"
                                    placeholder="Repeat new password" /><button type="button" class="pw-eye"
                                    data-target="sec-confirm"></button></div>
                        </div>
                        <div id="sec-err"
                            style="font-size:0.8rem;color:#F87171;font-weight:600;min-height:18px;margin-bottom:12px;">
                        </div>
                        <button class="btn btn-aqua" id="change-pw-btn" style="width:100%;"> Update Password</button>
                    </div>
                </section>

                <!--  SECTION: REPORTS  -->
                <section id="sec-reports" class="adm-sec">
                    <div class="page-hd">
                        <h1> Download Reports</h1>
                        <p>Export all business data to Excel or CSV</p>
                    </div>

                    <div class="report-card">
                        <div class="report-icon"></div>
                        <div class="report-info">
                            <div class="report-title">Full Orders Report (.xlsx)</div>
                            <p class="report-desc">Export all order data customer name, phone, city, items ordered,
                                total amount, date &amp; status. Opens directly in Excel or Google Sheets.</p>
                            <div class="report-stats">
                                <span class="report-stat">Total Orders: <strong id="rpt-order-count">0</strong></span>
                                <span class="report-stat">Total Revenue: <strong id="rpt-revenue">0</strong></span>
                            </div>
                        </div>
                        <div style="flex-shrink:0;">
                            <button class="btn btn-aqua" id="dl-excel-btn" style="min-width:160px;"> Download
                                Excel</button>
                        </div>
                    </div>

                    <div class="report-card">
                        <div class="report-icon"></div>
                        <div class="report-info">
                            <div class="report-title">CSV Backup (Fallback)</div>
                            <p class="report-desc">Simple CSV file compatible with all spreadsheet apps. Use this if
                                Excel download doesn't work.</p>
                        </div>
                        <div style="flex-shrink:0;">
                            <button class="btn btn-green" id="dl-csv-btn" style="min-width:160px;"> Download
                                CSV</button>
                        </div>
                    </div>

                    <div class="report-card">
                        <div class="report-icon"></div>
                        <div class="report-info">
                            <div class="report-title">Products Export</div>
                            <p class="report-desc">Export your full product catalog as a CSV file including names,
                                prices, categories, and stock status.</p>
                        </div>
                        <div style="flex-shrink:0;">
                            <button class="btn btn-orange" id="dl-prod-btn" style="min-width:160px;"> Export
                                Products</button>
                        </div>
                    </div>
                </section>

            </main><!-- end adm-content -->
        </div><!-- end adm-main-area -->

        <!-- BOTTOM NAV (mobile) -->
        <nav class="bottom-nav">
            <a href="index.html" class="bn-item">
                <svg viewBox="0 0 24 24">
                    <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
                    <polyline points="9 22 9 12 15 12 15 22"></polyline>
                </svg>
                <span>Home</span>
            </a>
            <a href="orders.html" class="bn-item">
                <svg viewBox="0 0 24 24">
                    <rect x="2" y="7" width="20" height="15" rx="2" ry="2"></rect>
                    <polyline points="17 21 17 13 7 13 7 21"></polyline>
                    <polyline points="2 9 12 2 22 9"></polyline>
                </svg>
                <span>Orders</span>
            </a>
            <a href="index.html#products" class="bn-item">
                <svg viewBox="0 0 24 24">
                    <path d="M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z"></path>
                    <path d="M3 6h18"></path>
                    <path d="M16 10a4 4 0 0 1-8 0"></path>
                </svg>
                <span>Shop</span>
            </a>
            <a href="admin.html" class="bn-item active">
                <svg viewBox="0 0 24 24">
                    <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                    <circle cx="12" cy="7" r="4"></circle>
                </svg>
                <span>Admin</span>
            </a>
        </nav>

    </div><!-- end dashboard-screen -->

    <!-- ORDER DETAIL MODAL -->
    <div class="modal-bg" id="order-modal">
        <div class="modal-box">
            <div class="modal-hd">
                <div class="modal-title"> Order Details</div>
                <button class="modal-close" id="modal-close-btn"></button>
            </div>
            <div id="order-modal-body"></div>
        </div>
    </div>

    <!-- DELETE CONFIRM MODAL -->
    <div class="modal-bg" id="del-modal">
        <div class="modal-box" style="max-width:400px;text-align:center;">
            <div style="font-size:2.8rem;margin-bottom:12px;"></div>
            <div class="modal-title" style="margin-bottom:8px;">Delete Product?</div>
            <p style="font-size:0.85rem;color:#64748B;margin-bottom:24px;">Are you sure you want to delete <strong
                    id="del-prod-name" style="color:#F87171;"></strong>? This cannot be undone.</p>
            <input type="hidden" id="del-prod-id" />
            <div style="display:flex;gap:10px;justify-content:center;">
                <button class="btn btn-red" id="confirm-del-btn"> Yes, Delete</button>
                <button class="btn btn-ghost" id="cancel-del-btn">Cancel</button>
            </div>
        </div>
    </div>

    <!-- TOAST -->
    <div id="toast-root"></div>

    <!-- Firebase SDK (Modular) -->
    <script type="importmap">
    {
      "imports": {
        "firebase/app": "https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js",
        "firebase/firestore": "https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js"
      }
    }
    </script>
    <script type="module" src="firebase.js"></script>
    <script type="module" src="admin-script.js"></script>

</body>

</html>